(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"05da":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.session.connected?n("q-btn",{staticClass:"q-mr-md text-red",attrs:{icon:"login",label:"out",to:"/home",flat:"",size:"xl"},on:{click:t.logout}}):t._e(),t.session.connected?t._e():n("q-btn",{staticClass:"q-mr-md text-primary",attrs:{icon:"login",label:"in",flat:"",size:"xl"},on:{click:function(e){return t.$router.replace("/login")}}}),"restaurateur"===t.session.role?n("q-btn",{staticClass:"bg-primary text-white",attrs:{to:"/admin",icon:"settings",round:""}}):t._e()],1)},s=[],r=n("e4fd"),o=n("eb10"),c=Object(r["defineComponent"])({name:"ConnectionBtn",setup(){const t=Object(o["d"])();return{session:o["b"],logout:t}}}),i=c,l=n("2877"),u=n("9c40"),d=n("eebe"),f=n.n(d),m=Object(l["a"])(i,a,s,!1,null,null,null);e["a"]=m.exports;f()(m,"components",{QBtn:u["a"]})},"374b":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("9f13");const s=function(t){return`${a["a"]}/${t}`}},"9f13":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));const a="https://testapiresto.herokuapp.com"},bc13:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-layout",{attrs:{view:"hHh lpR fFf"}},[n("q-page-container",[n("div",{staticClass:"row justify-between q-pt-lg q-pr-lg"},[n("p",{staticClass:"text-h4 q-ml-xl text-bold text-primary"},[n("q-icon",{attrs:{name:"restaurant",color:"primary"}}),t._v(" Les meilleurs restaurants\n        "),n("q-icon",{attrs:{name:"local_bar",color:"primary"}})],1),n("ConnectionBtn")],1),n("q-page",{staticClass:"q-pa-lg"},[n("div",{staticStyle:{"max-width":"60%",margin:"auto"}},[t.search?n("div",{staticClass:"text-caption q-mb-md"},[t._v("\n          "+t._s(t.filtered.length)+" restaurants\n        ")]):t._e(),n("q-input",{staticClass:"q-mb-xs",attrs:{filled:"","bottom-slots":"",label:"Rechercher"},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"search"}})]},proxy:!0},{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"close"},on:{click:function(e){t.text=""}}})]},proxy:!0}]),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),n("div",t._l(t.filtered,(function(e){return n("q-card",{key:e.id,staticClass:"my-card q-mb-md shadow-5",staticStyle:{"border-radius":"2%"}},[n("q-card-section",{attrs:{horizontal:""}},[n("q-img",{staticClass:"col-5",staticStyle:{"max-height":"200px"},attrs:{src:t._f("imageUrl")(e.image)}}),n("q-card-section",{staticClass:"column justify-center"},[n("p",{staticClass:"text-bold"},[n("q-icon",{staticClass:"q-mr-md",attrs:{name:"fastfood",size:"md"}}),t._v("\n                  "+t._s(e.nom_restaurant.toUpperCase())+"\n                ")],1),n("p",[n("q-icon",{staticClass:"q-mr-md",attrs:{name:"map",size:"md"}}),t._v("\n                  "+t._s(e.adress)+"\n                ")],1),n("p",{staticClass:"text-bold"},[n("q-icon",{staticClass:"q-mr-md",attrs:{name:"request_quote",size:"md"}}),t._v("\n                  Prix moyen:\n                  "+t._s(e.prix)+" Ar\n                ")],1)])],1),n("q-separator"),n("q-card-actions",{staticClass:"row justify-end"},[n("q-btn",{attrs:{flat:"",rounded:"",to:"/home/"+e.id,icon:"info",label:"detail",color:"primary"}})],1)],1)})),1)],1)])],1)],1)},s=[],r=n("e4fd"),o=n("bc3a"),c=n.n(o),i=n("9f13"),l=n("f508"),u=function(t,e,n,a){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{i(a.next(t))}catch(e){r(e)}}function c(t){try{i(a["throw"](t))}catch(e){r(e)}}function i(t){t.done?n(t.value):s(t.value).then(o,c)}i((a=a.apply(t,e||[])).next())}))};function d(){const t=Object(r["reactive"])({data:[],loading:!1});return Object(r["onMounted"])((()=>u(this,void 0,void 0,(function*(){l["a"].show();const e=yield c.a.get(i["a"]+"/api/v1/restaurants");t.data=e.data,l["a"].hide()})))),{state:t}}var f=n("eb10"),m=n("374b"),p=n("05da"),b=Object(r["defineComponent"])({name:"Home",setup(t,e){const{state:n}=d(),a=Object(f["d"])(),s=Object(r["ref"])(""),o=Object(r["computed"])((()=>n.data.filter((t=>t.nom_restaurant.toUpperCase().includes(s.value.toUpperCase())))));return{logout:a,filtered:o,search:s,session:f["b"]}},components:{ConnectionBtn:p["a"]},filters:{imageUrl:m["a"]},mounted(){Object(f["a"])()}}),q=b,g=n("2877"),h=n("4d5a"),C=n("09e3"),v=n("0016"),y=n("9989"),x=n("27f9"),_=n("f09f"),O=n("a370"),j=n("068f"),w=n("eb85"),S=n("4b7e"),k=n("9c40"),Q=n("eebe"),J=n.n(Q),z=Object(g["a"])(q,a,s,!1,null,null,null);e["default"]=z.exports;J()(z,"components",{QLayout:h["a"],QPageContainer:C["a"],QIcon:v["a"],QPage:y["a"],QInput:x["a"],QCard:_["a"],QCardSection:O["a"],QImg:j["a"],QSeparator:w["a"],QCardActions:S["a"],QBtn:k["a"]})},eb10:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return i}));var a=n("e4fd");const s={connected:!1,id:0,role:"",csrf:"",email:""},r=Object(a["reactive"])(JSON.parse(JSON.stringify(s)));function o(){return function(){localStorage.removeItem("token"),Object.assign(r,JSON.parse(JSON.stringify(s)))}}function c(){const t=localStorage.getItem("token");if(t){const e=JSON.parse(t);Object.assign(r,e,{connected:!0})}}function i(t){r.connected=!0,Object.assign(r,t)}}}]);