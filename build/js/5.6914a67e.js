(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{2609:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"q-gutter-md"},[s("q-input",{attrs:{square:"",filled:"",clearable:"",value:e.value.email,type:"email",label:"email"},on:{input:function(t){return e.onChange("email",t)}}}),s("q-input",{attrs:{square:"",filled:"",clearable:"",value:e.value.password,type:"password",label:"mot de passe"},on:{input:function(t){return e.onChange("password",t)}}}),s("q-input",{attrs:{square:"",filled:"",clearable:"",value:e.value.restoName,label:"nom du restaurant"},on:{input:function(t){return e.onChange("restoName",t)}}}),s("q-input",{attrs:{square:"",filled:"",clearable:"",value:e.value.address,label:"adresse"},on:{input:function(t){return e.onChange("address",t)}}}),s("div",{staticClass:"row q-gutter-xs"},[s("q-input",{staticStyle:{"max-width":"200px"},attrs:{value:e.value.minPrice,type:"number",filled:"",prefix:"Ar",label:"prix min",min:0},on:{input:function(t){return e.onChange("minPrice",t)}}}),s("q-input",{staticStyle:{"max-width":"200px"},attrs:{value:e.value.maxPrice,type:"number",filled:"",prefix:"Ar",label:"prix max",min:0},on:{input:function(t){return e.onChange("maxPrice",t)}}})],1),s("q-input",{attrs:{square:"",filled:"",clearable:"",value:e.value.speciality,label:"specialite"},on:{input:function(t){return e.onChange("speciality",t)}}}),s("div",{staticClass:"row items-start"},[s("q-card",{staticStyle:{width:"125px",height:"125px"}},[e.value.restoPhoto?s("q-img",{staticStyle:{width:"125px",height:"125px"},attrs:{src:e.photoUrl,basic:"",alt:"P"}},[s("div",{staticClass:"absolute-bottom text-subtitle2 text-center"},[e._v("\n          Photo restaurant\n        ")])]):s("q-img",{staticStyle:{width:"125px",height:"125px"},attrs:{src:a("e696"),basic:"",alt:"P"}})],1),s("q-file",{staticClass:"col",staticStyle:{"margin-left":"10px"},attrs:{filled:"",value:e.value.restoPhoto,label:"image path"},on:{input:function(t){return e.onChange("restoPhoto",t)}}})],1)],1)},n=[],o=a("e4fd"),r=Object(o["defineComponent"])({name:"FormSeller",props:{value:{type:Object,required:!0}},setup(e,{emit:t}){const a=Object(o["computed"])((()=>e.value.restoPhoto?URL.createObjectURL(e.value.restoPhoto):""));function s(a,s){t("input",Object.assign(Object.assign({},e.value),{[a]:s}))}return{photoUrl:a,onChange:s}}}),i=r,l=a("2877"),c=a("27f9"),u=a("f09f"),p=a("068f"),m=a("7d53"),d=a("eebe"),f=a.n(d),h=Object(l["a"])(i,s,n,!1,null,null,null);t["a"]=h.exports;f()(h,"components",{QInput:c["a"],QCard:u["a"],QImg:p["a"],QFile:m["a"]})},"56b4":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",[a("q-page-container",[a("q-page",[e.accountType?a("RegisterClient"):a("RegisterSeller")],1)],1)],1)},n=[],o=a("e4fd"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col row"},[a("q-card",{staticClass:"q-pa-lg shadow-1",staticStyle:{width:"75%",margin:"auto"},attrs:{square:"",bordered:""}},[a("q-card-section",{staticClass:"row justify-center"},[a("q-btn",{attrs:{icon:"restaurant",round:"",size:"xl",color:"primary"},on:{click:function(t){return e.$router.replace("/home")}}})],1),a("ToogleClientSellerLogin"),a("q-card-section",[a("q-form",{staticClass:"q-gutter-md"},[a("q-input",{attrs:{square:"",filled:"",clearable:"",type:"email",label:"email"},model:{value:e.data.email,callback:function(t){e.$set(e.data,"email",t)},expression:"data.email"}}),a("q-input",{attrs:{square:"",filled:"",clearable:"",type:"password",label:"mot de passe"},model:{value:e.data.password,callback:function(t){e.$set(e.data,"password",t)},expression:"data.password"}})],1)],1),a("q-card-actions",{staticClass:"q-px-md"},[a("q-btn",{staticClass:"full-width",attrs:{unelevated:"",color:"light-green-7",size:"lg",label:"Creer compte"},on:{click:e.submit}})],1),a("q-card-section",{staticClass:"text-center q-pa-none"},[a("p",{staticClass:"text-grey-6"},[e._v("Vous avez deja un compte ?")]),a("q-btn",{attrs:{flat:"",to:"/login",label:"Se connecter"}})],1)],1)],1),a("div",{staticClass:"col window-height"},[a("q-img",{staticStyle:{height:"100%","max-width":"100%"},attrs:{src:"https://images.pexels.com/photos/315755/pexels-photo-315755.jpeg?auto=compress&cs=tinysrgb&h=650&w=940 940w, https://images.pexels.com/photos/315755/pexels-photo-315755.jpeg?auto=compress&cs=tinysrgb&h=750&w=1260 1260w, https://images.pexels.com/photos/315755/pexels-photo-315755.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940 1880w, https://images.pexels.com/photos/315755/pexels-photo-315755.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260 2520w"}})],1)])},i=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card-section",{staticClass:"row items-center"},[a("div",{staticClass:"text-h6",class:{"text-grey-5":e.accountType}},[e._v("\n    Compte Restaurateur\n  ")]),a("q-toggle",{model:{value:e.accountType,callback:function(t){e.accountType=t},expression:"accountType"}}),a("div",{staticClass:"text-h6",class:{"text-grey-5":!e.accountType}},[e._v("\n    Compte Client\n  ")])],1)},c=[];const u=Object(o["ref"])(!0);function p(){return u}var m=Object(o["defineComponent"])({name:"ToogleClientSellerLogin",setup(){const e=p();return{accountType:e}}}),d=m,f=a("2877"),h=a("a370"),b=a("9564"),g=a("eebe"),x=a.n(g),v=Object(f["a"])(d,l,c,!1,null,null,null),q=v.exports;x()(v,"components",{QCardSection:h["a"],QToggle:b["a"]});var y=a("f508"),C=a("2a19"),w=a("bc3a"),S=a.n(w),P=a("9f13"),j=a("eb10"),O=function(e,t,a,s){function n(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,o){function r(e){try{l(s.next(e))}catch(t){o(t)}}function i(e){try{l(s["throw"](e))}catch(t){o(t)}}function l(e){e.done?a(e.value):n(e.value).then(r,i)}l((s=s.apply(e,t||[])).next())}))};function Q(e){return O(this,void 0,void 0,(function*(){return S.a.post(P["a"]+"/signup",e)}))}function _(e,t){return O(this,void 0,void 0,(function*(){return S.a.post(P["a"]+"/api/v1/restaurants",e,{headers:{accept:"application/json","Accept-Language":"en-US,en;q=0.8","Content-Type":`multipart/form-data; boundary=${e._boundary}`,Authorization:`Bearer ${t}`}})}))}function $(e){const t=Object(o["reactive"])({user_type:"",email:"",password:""});function a(){y["a"].show(),t.user_type="client",Q(t).then((function(t){localStorage.setItem("token",JSON.stringify(t.data)),Object(j["c"])(t.data),e.replace("/home"),C["a"].create({message:"Votre compte a bien ete creer",type:"positive",position:"top"})})).catch((function(e){C["a"].create({message:"Email non diponible",type:"negative",position:"top"})})).then((function(){y["a"].hide(),t.email="",t.password=""}))}return{data:t,submit:a}}function k(e){const t=function(){return{email:"",password:"",restoName:"",address:"",minPrice:"",maxPrice:"",restoPhoto:null,speciality:null}},a=Object(o["reactive"])(t());function s(){a.email="",a.password="",a.speciality="",a.address="",a.minPrice="",a.maxPrice="",a.restoName="",a.restoPhoto=null}const n=function(){y["a"].show(),Q({email:a.email,user_type:"restaurateur",password:a.password}).then((function(t){const n=new FormData;n.append("nom_restaurant",a.restoName),n.append("prix",`${a.minPrice}-${a.maxPrice}`),n.append("adress",a.address),n.append("speciality",a.speciality),n.append("users_id",t.data.user),n.append("photo",a.restoPhoto),_(n,t.data.csrf).then((function(t){e.replace("/home")})).catch((function(e){C["a"].create({message:"Nom du restaurant non disponible",type:"negative",position:"top"})})).then((function(){y["a"].hide(),s()}))})).catch((function(){C["a"].create({message:"Email invalide ou non disponible",type:"negative",position:"top"})})).then((function(){y["a"].hide(),s()}))};return{form:a,submit:n}}var N=Object(o["defineComponent"])({name:"RegisterClient",components:{ToogleClientSellerLogin:q},setup(e,t){const{data:a,submit:s}=$(t.root.$router);return{data:a,submit:s}}}),T=N,R=a("f09f"),L=a("9c40"),I=a("0378"),U=a("27f9"),A=a("4b7e"),J=a("068f"),z=Object(f["a"])(T,r,i,!1,null,null,null),E=z.exports;x()(z,"components",{QCard:R["a"],QCardSection:h["a"],QBtn:L["a"],QForm:I["a"],QInput:U["a"],QCardActions:A["a"],QImg:J["a"]});var F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col "},[s("q-img",{staticStyle:{height:"100%","max-width":"100%"},attrs:{src:"https://images.pexels.com/photos/3185222/pexels-photo-3185222.jpeg?auto=compress&cs=tinysrgb&h=750&w=1260"}})],1),s("div",{staticClass:"col row"},[s("q-card",{staticClass:"q-pa-lg shadow-1",staticStyle:{margin:"auto"},attrs:{square:"",bordered:""}},[s("q-card-section",{staticClass:"row justify-center"},[s("q-btn",{attrs:{icon:"restaurant",round:"",size:"xl",color:"primary"},on:{click:function(t){return e.$router.replace("/home")}}})],1),s("ToogleClientSellerLogin"),s("q-card-section",[s("q-form",{staticClass:"q-gutter-md"},[s("div",{staticClass:"q-gutter-md"},[s("q-input",{attrs:{square:"",filled:"",clearable:"",type:"email",label:"email"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),s("q-input",{attrs:{square:"",filled:"",clearable:"",type:"password",label:"mot de passe"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),s("q-input",{attrs:{square:"",filled:"",clearable:"",label:"nom du restaurant"},model:{value:e.form.restoName,callback:function(t){e.$set(e.form,"restoName",t)},expression:"form.restoName"}}),s("q-input",{attrs:{square:"",filled:"",clearable:"",label:"adresse"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}}),s("div",{staticClass:"row q-gutter-xs"},[s("q-input",{staticStyle:{"max-width":"200px"},attrs:{type:"number",filled:"",prefix:"Ar",label:"prix min",min:0},model:{value:e.form.minPrice,callback:function(t){e.$set(e.form,"minPrice",e._n(t))},expression:"form.minPrice"}}),s("q-input",{staticStyle:{"max-width":"200px"},attrs:{type:"number",filled:"",prefix:"Ar",label:"prix max",min:0},model:{value:e.form.maxPrice,callback:function(t){e.$set(e.form,"maxPrice",e._n(t))},expression:"form.maxPrice"}})],1),s("q-input",{attrs:{square:"",filled:"",clearable:"",label:"specialite"},model:{value:e.form.speciality,callback:function(t){e.$set(e.form,"speciality",t)},expression:"form.speciality"}}),s("div",{staticClass:"row items-start"},[s("q-card",{staticStyle:{width:"125px",height:"125px"}},[e.form.restoPhoto?s("q-img",{staticStyle:{width:"125px",height:"125px"},attrs:{src:e.photoUrl,basic:"",alt:"P"}},[s("div",{staticClass:"absolute-bottom text-subtitle2 text-center"},[e._v("\n                    Photo restaurant\n                  ")])]):s("q-img",{staticStyle:{width:"125px",height:"125px"},attrs:{src:a("e696"),basic:"",alt:"P"}})],1),s("q-file",{staticClass:"col",staticStyle:{"margin-left":"10px"},attrs:{filled:"",label:"image path"},model:{value:e.form.restoPhoto,callback:function(t){e.$set(e.form,"restoPhoto",t)},expression:"form.restoPhoto"}})],1)],1)])],1),s("q-card-actions",{staticClass:"q-px-md"},[s("q-btn",{staticClass:"full-width",attrs:{unelevated:"",color:"light-green-7",size:"lg",label:"Creer compte"},on:{click:e.submit}})],1),s("q-card-section",{staticClass:"text-center q-pa-none"},[s("p",{staticClass:"text-grey-6"},[e._v("Vous avez deja un compte ?")]),s("q-btn",{attrs:{flat:"",to:"/login",label:"Se connecter"}})],1)],1)],1)])},B=[],V=a("2609"),D=Object(o["defineComponent"])({name:"RegisterSeller",components:{ToogleClientSellerLogin:q,FormSeller:V["a"]},setup(e,t){const{form:a,submit:s}=k(t.root.$router),n=Object(o["computed"])((()=>a.restoPhoto?URL.createObjectURL(a.restoPhoto):""));return{form:a,submit:s,photoUrl:n}}}),G=D,H=a("7d53"),K=Object(f["a"])(G,F,B,!1,null,null,null),M=K.exports;x()(K,"components",{QImg:J["a"],QCard:R["a"],QCardSection:h["a"],QBtn:L["a"],QForm:I["a"],QInput:U["a"],QFile:H["a"],QCardActions:A["a"]});var W=Object(o["defineComponent"])({name:"Register",components:{RegisterClient:E,RegisterSeller:M},setup(){const e=p();return{accountType:e}}}),X=W,Y=a("4d5a"),Z=a("09e3"),ee=a("9989"),te=Object(f["a"])(X,s,n,!1,null,null,null);t["default"]=te.exports;x()(te,"components",{QLayout:Y["a"],QPageContainer:Z["a"],QPage:ee["a"]})},"9f13":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));const s="https://testapiresto.herokuapp.com"},e696:function(e,t,a){e.exports=a.p+"img/restaurant3.2ef19967.jpg"},eb10:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return l}));var s=a("e4fd");const n={connected:!1,id:0,role:"",csrf:"",email:""},o=Object(s["reactive"])(JSON.parse(JSON.stringify(n)));function r(){return function(){localStorage.removeItem("token"),Object.assign(o,JSON.parse(JSON.stringify(n)))}}function i(){const e=localStorage.getItem("token");if(e){const t=JSON.parse(e);Object.assign(o,t,{connected:!0})}}function l(e){o.connected=!0,Object.assign(o,e)}}}]);